{"version":3,"file":"static/js/379.b37b6efa.chunk.js","mappings":"mKA+EA,IA9Ee,SAAC,GAA4D,IAA1DA,EAAyD,EAAzDA,IAAKC,EAAoD,EAApDA,UACfC,GAAYC,EAAAA,EAAAA,QAA0B,MACtCC,GAAaD,EAAAA,EAAAA,QAAuB,MAC1C,GAA8BE,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KA4BMC,GA5BN,KA4BuB,SAACC,GACtB,IAAMC,EAAgBP,EAAUQ,QAChC,UAAID,QAAJ,IAAIA,GAAAA,EAAeE,cAAe,CAChC,IAAIC,EAAeC,KAAKC,IACtBL,EAAcE,cAAcI,SAASC,KAAKJ,aAC1CH,EAAcE,cAAcI,SAASE,gBAAgBL,aACrDH,EAAcE,cAAcI,SAASC,KAAKE,aAC1CT,EAAcE,cAAcI,SAASE,gBAAgBC,aACrDT,EAAcE,cAAcI,SAASC,KAAKG,aAC1CV,EAAcE,cAAcI,SAASE,gBAAgBE,cAEvDV,EAAcW,OAASR,EAAe,QAW1C,OANAS,EAAAA,EAAAA,YAAU,WAER,OADAC,OAAOC,iBAAiB,SAAUhB,GAC3B,WACLe,OAAOE,oBAAoB,SAAUjB,MAEtC,KAED,iCACE,gBACEkB,IAAKrB,EACLH,UAAS,UACPK,EAAU,GAAK,SADR,qDAFX,UAME,gBAAKL,UAAW,qBAGlB,mBACEyB,QAAM,EACNC,QAAQ,OACRF,IAAKvB,EACLD,UAAWA,EACXD,IAAKA,EACL4B,YAAY,IACZC,UAAU,KACVC,OApEqD,SAACtB,GAC1DuB,QAAQC,IAAIxB,GACRJ,EAAWM,UACbN,EAAWM,QAAQuB,MAAMC,QAAU,SAGrC,IAAMzB,EAAgBD,EAAM2B,cAC5B,GAAI1B,EAAcE,cAAe,CAC/BF,EAAcwB,MAAMC,QAAU,QAC9B,IAAItB,EAAeC,KAAKC,IACtBL,EAAcE,cAAcI,SAASC,KAAKJ,aAC1CH,EAAcE,cAAcI,SAASE,gBAAgBL,aACrDH,EAAcE,cAAcI,SAASC,KAAKE,aAC1CT,EAAcE,cAAcI,SAASE,gBAAgBC,aACrDT,EAAcE,cAAcI,SAASC,KAAKG,aAC1CV,EAAcE,cAAcI,SAASE,gBAAgBE,cAEvDY,QAAQC,IAAIpB,GACZH,EAAcW,OAASR,EAAe,KAGpCR,EAAWM,UACbN,EAAWM,QAAQuB,MAAMC,QAAU,gB,iECVzC,UAZgB,WACd,IAAQE,GAAUC,EAAAA,EAAAA,MAAVD,MACR,OACE,oBAASnC,UAAU,kEAAnB,UACE,SAAC,IAAD,CACEA,UAAW,8CACXD,IAAG,mDAA8CoC,EAA9C","sources":["components/Iframe/Iframe.tsx","pages/KPNPage/KPNPage.tsx"],"sourcesContent":["import React, { ReactEventHandler, useEffect, useRef, useState } from \"react\";\r\nconst Iframe = ({ src, className }: { src: string; className: string }) => {\r\n  const iframeRef = useRef<HTMLIFrameElement>(null);\r\n  const loadingRef = useRef<HTMLDivElement>(null);\r\n  const [visible, setVisible] = useState(true);\r\n  const onLoadIframe: ReactEventHandler<HTMLIFrameElement> = (event) => {\r\n    console.log(event);\r\n    if (loadingRef.current) {\r\n      loadingRef.current.style.display = \"block\";\r\n      // setVisible(false);\r\n    }\r\n    const iframeElement = event.currentTarget;\r\n    if (iframeElement.contentWindow) {\r\n      iframeElement.style.display = \"block\";\r\n      let scrollHeight = Math.max(\r\n        iframeElement.contentWindow.document.body.scrollHeight,\r\n        iframeElement.contentWindow.document.documentElement.scrollHeight,\r\n        iframeElement.contentWindow.document.body.offsetHeight,\r\n        iframeElement.contentWindow.document.documentElement.offsetHeight,\r\n        iframeElement.contentWindow.document.body.clientHeight,\r\n        iframeElement.contentWindow.document.documentElement.clientHeight\r\n      );\r\n      console.log(scrollHeight);\r\n      iframeElement.height = scrollHeight + \"px\";\r\n      // 원래 iframe 내부의 content height 을 불러온다.\r\n    }\r\n    if (loadingRef.current) {\r\n      loadingRef.current.style.display = \"none\";\r\n      // setVisible(false);\r\n    }\r\n  };\r\n\r\n  const onResizeIframe = (event: Event) => {\r\n    const iframeElement = iframeRef.current;\r\n    if (iframeElement?.contentWindow) {\r\n      let scrollHeight = Math.max(\r\n        iframeElement.contentWindow.document.body.scrollHeight,\r\n        iframeElement.contentWindow.document.documentElement.scrollHeight,\r\n        iframeElement.contentWindow.document.body.offsetHeight,\r\n        iframeElement.contentWindow.document.documentElement.offsetHeight,\r\n        iframeElement.contentWindow.document.body.clientHeight,\r\n        iframeElement.contentWindow.document.documentElement.clientHeight\r\n      );\r\n      iframeElement.height = scrollHeight + \"px\";\r\n      // 원래 iframe 내부의 content height 을 불러온다.\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", onResizeIframe);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", onResizeIframe);\r\n    };\r\n  }, []);\r\n  return (\r\n    <>\r\n      <div\r\n        ref={loadingRef}\r\n        className={`${\r\n          visible ? \"\" : \"hidden\"\r\n        } flex h-screen w-full items-center justify-center`}\r\n      >\r\n        <div className={\"lds-dual-ring\"}></div>\r\n      </div>\r\n\r\n      <iframe\r\n        hidden\r\n        loading=\"lazy\"\r\n        ref={iframeRef}\r\n        className={className}\r\n        src={src}\r\n        frameBorder=\"0\"\r\n        scrolling=\"no\"\r\n        onLoad={onLoadIframe}\r\n      ></iframe>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Iframe;\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport Iframe from \"../../components/Iframe/Iframe\";\r\n\r\nconst KPNPage = () => {\r\n  const { kpnId } = useParams();\r\n  return (\r\n    <section className=\"mx-auto mt-32 flex w-full max-w-9xl items-center justify-center\">\r\n      <Iframe\r\n        className={\"mt-4  w-full  overflow-y-auto px-3 md:mt-12\"}\r\n        src={`/cattle-market-information-center/iframe/${kpnId}.html`}\r\n      />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default KPNPage;\r\n"],"names":["src","className","iframeRef","useRef","loadingRef","useState","visible","onResizeIframe","event","iframeElement","current","contentWindow","scrollHeight","Math","max","document","body","documentElement","offsetHeight","clientHeight","height","useEffect","window","addEventListener","removeEventListener","ref","hidden","loading","frameBorder","scrolling","onLoad","console","log","style","display","currentTarget","kpnId","useParams"],"sourceRoot":""}